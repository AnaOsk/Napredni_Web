extends layout

block content
    .container.mx-auto.px-4.py-8.max-w-6xl
        h1.text-3xl.font-bold.text-gray-800.mb-2= title
        p.text-gray-600.mb-8 Projekti na kojima ste voditelj

        if !currentUser
            .bg-white.rounded-lg.shadow-md.p-8.text-center
                h2.text-2xl.font-semibold.text-gray-700.mb-4 Dobrodosli!
                p.text-gray-600.mb-6 Prijavite se za pristup projektima.
                .flex.justify-center.gap-4
                    a.bg-indigo-600.text-white.px-6.py-3.rounded-md.font-medium(href='/auth/login', class='hover:bg-indigo-700') Prijava

        if currentUser
            .grid.grid-cols-1.gap-6(class='lg:grid-cols-2')

                //- LIJEVA KOLONA - Detalji projekta
                .space-y-6
                    #projectInfo.bg-white.rounded-lg.shadow-md.p-6
                        h2.text-xl.font-semibold.text-gray-700.mb-4.border-b.pb-2 Detalji projekta
                        .space-y-3
                            .flex
                                span.font-medium.text-gray-600.w-40 Naziv:
                                span#projectInfoNaziv.text-gray-800 -
                            .flex
                                span.font-medium.text-gray-600.w-40 Opis:
                                span#projectInfoOpis.text-gray-800 -
                            .flex
                                span.font-medium.text-gray-600.w-40 Cijena:
                                span
                                    span#projectInfoCijena.text-gray-800 -
                                    |  EUR
                            .flex
                                span.font-medium.text-gray-600.w-40 Obavljeni poslovi:
                                span#projectInfoPoslovi.text-gray-800 -
                            .flex
                                span.font-medium.text-gray-600.w-40 Datum pocetka:
                                span#projectInfoPocetak.text-gray-800 -
                            .flex
                                span.font-medium.text-gray-600.w-40 Datum zavrsetka:
                                span#projectInfoZavrsetak.text-gray-800 -
                            .flex
                                span.font-medium.text-gray-600.w-40 Arhiviran:
                                span#projectInfoArhiviran.text-gray-800 -

                        //- CLANOVI TIMA
                        #teamSection.mt-6.pt-6.border-t(style='display:none;')
                            input#currentProjectId(type='hidden')
                            h3.text-lg.font-semibold.text-gray-700.mb-4 Clanovi tima
                            .overflow-x-auto
                                table#teamList.w-full.text-sm
                                    thead.bg-gray-50
                                        tr
                                            th.px-4.py-2.text-left.font-medium.text-gray-600 Ime
                                            th.px-4.py-2.text-left.font-medium.text-gray-600 Uloga
                                            th.px-4.py-2.text-left.font-medium.text-gray-600 Email
                                            th.px-4.py-2.text-left.font-medium.text-gray-600 Akcija
                                    tbody.divide-y.divide-gray-200

                            h4.text-md.font-medium.text-gray-700.mt-6.mb-3 Dodaj clana tima
                            .space-y-3
                                div
                                    label.block.text-sm.font-medium.text-gray-600.mb-1 Odaberi korisnika:
                                    select#memberKorisnik.w-full.px-3.py-2.border.border-gray-300.rounded-md(class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                                        option(value='') -- Odaberi korisnika --
                                div
                                    label.block.text-sm.font-medium.text-gray-600.mb-1 Uloga:
                                    select#memberUloga.w-full.px-3.py-2.border.border-gray-300.rounded-md(class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                                        option(value='') -- Odaberi ulogu --
                                button#btnAddMember.w-full.bg-green-600.text-white.font-medium.py-2.px-4.rounded-md.transition.duration-200(class='hover:bg-green-700') Dodaj clana

                //- DESNA KOLONA - Lista i forme
                .space-y-6
                    //- LISTA PROJEKATA
                    #projectList.bg-white.rounded-lg.shadow-md.p-6
                        h2.text-xl.font-semibold.text-gray-700.mb-4.border-b.pb-2 Moji projekti (voditelj)
                        .overflow-x-auto
                            table.w-full.text-sm
                                thead.bg-gray-50
                                    tr
                                        th.px-4.py-3.text-left.font-medium.text-gray-600 Naziv
                                        th.px-4.py-3.text-left.font-medium.text-gray-600 Cijena
                                        th.px-4.py-3.text-left.font-medium.text-gray-600 Pocetak
                                        th.px-4.py-3.text-left.font-medium.text-gray-600 Zavrsetak
                                        th.px-4.py-3.text-left.font-medium.text-gray-600 Akcije
                                tbody.divide-y.divide-gray-200

                    //- DODAJ PROJEKT
                    #addProject.bg-white.rounded-lg.shadow-md.p-6
                        h2.text-xl.font-semibold.text-gray-700.mb-4.border-b.pb-2 Dodaj novi projekt
                        .space-y-4
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Naziv projekta:
                                input#inputNaziv.w-full.px-3.py-2.border.border-gray-300.rounded-md(type='text', placeholder='Naziv projekta', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Opis projekta:
                                textarea#inputOpis.w-full.px-3.py-2.border.border-gray-300.rounded-md(placeholder='Opis projekta', rows='3', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Cijena (EUR):
                                input#inputCijena.w-full.px-3.py-2.border.border-gray-300.rounded-md(type='number', placeholder='0.00', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Obavljeni poslovi:
                                textarea#inputPoslovi.w-full.px-3.py-2.border.border-gray-300.rounded-md(placeholder='Obavljeni poslovi', rows='2', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Datum pocetka:
                                input#inputDatumPocetka.w-full.px-3.py-2.border.border-gray-300.rounded-md(type='date', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Datum zavrsetka:
                                input#inputDatumZavrsetka.w-full.px-3.py-2.border.border-gray-300.rounded-md(type='date', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            .flex.items-center
                                input#inputArhiviran.w-4.h-4.text-blue-600.border-gray-300.rounded(type='checkbox', class='focus:ring-blue-500')
                                label.ml-2.text-sm.font-medium.text-gray-600(for='inputArhiviran') Arhiviran
                            button#btnAddProject.w-full.bg-blue-600.text-white.font-medium.py-2.px-4.rounded-md.transition.duration-200(class='hover:bg-blue-700') Dodaj projekt

                    //- UREDI PROJEKT
                    #editProject.bg-white.rounded-lg.shadow-md.p-6(style='display:none;')
                        h2.text-xl.font-semibold.text-gray-700.mb-4.border-b.pb-2 Uredi projekt
                        input#editProjectId(type='hidden')
                        .space-y-4
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Naziv projekta:
                                input#editNaziv.w-full.px-3.py-2.border.border-gray-300.rounded-md(type='text', placeholder='Naziv projekta', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Opis projekta:
                                textarea#editOpis.w-full.px-3.py-2.border.border-gray-300.rounded-md(placeholder='Opis projekta', rows='3', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Cijena (EUR):
                                input#editCijena.w-full.px-3.py-2.border.border-gray-300.rounded-md(type='number', placeholder='0.00', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Obavljeni poslovi:
                                textarea#editPoslovi.w-full.px-3.py-2.border.border-gray-300.rounded-md(placeholder='Obavljeni poslovi', rows='2', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Datum pocetka:
                                input#editDatumPocetka.w-full.px-3.py-2.border.border-gray-300.rounded-md(type='date', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            div
                                label.block.text-sm.font-medium.text-gray-600.mb-1 Datum zavrsetka:
                                input#editDatumZavrsetka.w-full.px-3.py-2.border.border-gray-300.rounded-md(type='date', class='focus:outline-none focus:ring-2 focus:ring-blue-500')
                            .flex.items-center
                                input#editArhiviran.w-4.h-4.text-blue-600.border-gray-300.rounded(type='checkbox', class='focus:ring-blue-500')
                                label.ml-2.text-sm.font-medium.text-gray-600(for='editArhiviran') Arhiviran
                            .flex.gap-3
                                button#btnUpdateProject.flex-1.bg-blue-600.text-white.font-medium.py-2.px-4.rounded-md.transition.duration-200(class='hover:bg-blue-700') Spremi promjene
                                button#btnCancelEdit.flex-1.bg-gray-500.text-white.font-medium.py-2.px-4.rounded-md.transition.duration-200(type='button', class='hover:bg-gray-600') Odustani

    script.
        // Override za moji-projekti stranicu
        window.projectListEndpoint = '/projects/moji-projekti-list';
